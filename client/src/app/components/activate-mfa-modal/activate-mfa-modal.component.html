<div class="flex items-center justify-center">
    <div class="max-w-md w-full p-6 bg-white rounded-lg shadow-lg">
        <h2 class="text-2xl font-semibold mb-4">Setup Two-Factor Authentication</h2>
        <button *ngIf="!generate" (click)="generateQr()" type="button"
            class="w-full bg-blue-500 text-white py-2 rounded-lg hover:bg-blue-600 focus:outline-none focus:ring focus:ring-blue-300">
            Generate Qr
        </button>
        <div *ngIf="errorMessage" class="border border-red-500 rounded-md p-2 mb-4 relative">
            <button (click)="closeErrorMessage()"
                class="absolute top-1 right-1 px-2 py-1 text-red-500 hover:text-red-700 cursor-pointer">
                <mat-icon>cancel</mat-icon>
            </button>
            <p class="text-red-500 text-sm font-normal">{{ errorMessage }}</p>
        </div>
        <div *ngIf="generate">
            <img src="{{qrImage}}" alt="qr-code">
            <div class="mb-4">
                <label for="validationCode" class="block text-sm font-medium mb-1">Enter 6 digits validation
                    code</label>
                <input required [(ngModel)]="otpCode" type="text" id="validationCode" name="validationCode"
                    class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring focus:border-blue-300" />
            </div>
            <div class="flex-col space-y-2">
                <button (click)="verifyCode()" [class.button-disabled]="otpCode.length < 6" type="submit"
                    class="w-full bg-blue-500 text-white py-2 rounded-lg hover:bg-blue-600 focus:outline-none focus:ring focus:ring-blue-300">
                    Verify
                </button>
                <button (click)="closeModal()" type="submit"
                    class="w-full bg-red-500 text-white py-2 rounded-lg hover:bg-red-600 focus:outline-none focus:ring focus:ring-red-300">
                    Cancel
                </button>
            </div>
        </div>

    </div>
</div>